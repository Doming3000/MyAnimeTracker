<!-- Formulario de búsqueda -->
<form (ngSubmit)="search()" novalidate [ngClass]="{'searching': searching}">
    <input class="searchInput" type="text" name="search" [(ngModel)]="searchTerm" placeholder="Realiza una búsqueda..." required [ngClass]="{'input-error': inputEmpty}">
    <button class="searchButton" (click)="search()"><i class="fa-solid fa-magnifying-glass"></i></button>
    
    <div class="searchOptions">
        <div>
            <input name="type" type="radio" value="type-anime" id="type-anime">
            <label for="type-anime"><i class="fa-solid fa-film"></i></label>
        </div>
        
        <div>
            <input name="type" type="radio" value="type-manga" id="type-manga">
            <label for="type-manga"><i class="fa-regular fa-comment-dots"></i></label>
        </div>
    </div>
</form>

<!-- Contenedor de resultados -->
<div class="overlay" *ngIf="anime_results.length > 0" (click)="clearResults()"></div>

<div class="results-container" #resultsContainer id="results-container" [ngClass]="{'results-visible': anime_results.length > 0}">
    <div class="progress-container">
        <div class="progress-bar" id="myBar"></div>
    </div>
    
    <div class="resultsHeader">
        <h3>Resultados de búsqueda:</h3>
        <button (click)="clearResults()"><i class="fa-solid fa-xmark"></i>Cerrar</button>
    </div>
    
    <ng-container *ngIf="anime_results.length > 0">
        <div class="result" *ngFor="let anime of anime_results">
            <img [src]="anime.images['jpg'].image_url" />
            <div class="details">
                <h3>{{ anime.title }}</h3>
                <p *ngIf="anime.synopsis" [title]="anime.synopsis">{{ anime.synopsis.slice(0, 200) }}...</p>
                <button class="addButton" (click)="addAnime(anime)"><i class="fa-regular fa-bookmark"></i>Añadir a mi lista</button>
            </div>
        </div>
    </ng-container>    
</div>